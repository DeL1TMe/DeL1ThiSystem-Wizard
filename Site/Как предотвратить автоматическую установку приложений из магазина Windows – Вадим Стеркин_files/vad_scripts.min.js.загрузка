var rangyInputs,_gaq=_gaq||[];function showhide(e){current="block"==document.getElementById(e).style.display?"none":"block",document.getElementById(e).style.display=current}function SelectAll(e){document.getElementById(e).focus(),document.getElementById(e).select()}function insertText(e,t){var n=document.getElementById("comment"),a=rangyInputs.getSelection(n);rangyInputs.insertText(n,e,a.end),rangyInputs.insertText(n,t,a.start),rangyInputs.setSelection(n,a.start,a.end+e.length+t.length),n.focus()}_gaq.push(["_setAccount","UA-19739103-1"]),_gaq.push(["_trackPageview"]),_gaq.push(["_trackPageLoadTime"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),function(){var e,t,n,a,r,o,c,l,s,i="undefined",u=!1;function d(e,t){var n=typeof e[t];return"function"===n||!!("object"==n&&e[t])||"unknown"==n}function v(e,t){return typeof e[t]!=i}function g(e,t){return!!("object"==typeof e[t]&&e[t])}function f(e){window.console&&window.console.log&&window.console.log("Rangy Text Inputs not supported in your browser. Reason: "+e)}function p(e,t,n){return t<0&&(t+=e.value.length),typeof n==i&&(n=t),n<0&&(n+=e.value.length),{start:t,end:n}}function h(e,t,n){return{start:t,end:n,length:n-t,text:e.value.slice(t,n)}}function y(){return g(document,"body")?document.body:document.getElementsByTagName("body")[0]}function m(){if(!u){var i=document.createElement("textarea");if(y().appendChild(i),v(i,"selectionStart")&&v(i,"selectionEnd"))e=function(e){var t=e.selectionStart,n=e.selectionEnd;return h(e,t,n)},t=function(e,t,n){var a=p(e,t,n);e.selectionStart=a.start,e.selectionEnd=a.end},s=function(e,t){t?e.selectionEnd=e.selectionStart:e.selectionStart=e.selectionEnd};else if(d(i,"createTextRange")&&g(document,"selection")&&d(document.selection,"createRange")){e=function(e){var t,n,a,r,o=0,c=0,l=document.selection.createRange();return l&&l.parentElement()==e&&(a=e.value.length,t=e.value.replace(/\r\n/g,"\n"),(n=e.createTextRange()).moveToBookmark(l.getBookmark()),(r=e.createTextRange()).collapse(!1),n.compareEndPoints("StartToEnd",r)>-1?o=c=a:(o=-n.moveStart("character",-a),o+=t.slice(0,o).split("\n").length-1,n.compareEndPoints("EndToEnd",r)>-1?c=a:(c=-n.moveEnd("character",-a),c+=t.slice(0,c).split("\n").length-1))),h(e,o,c)};var E=function(e,t){return t-(e.value.slice(0,t).split("\r\n").length-1)};t=function(e,t,n){var a=p(e,t,n),r=e.createTextRange(),o=E(e,a.start);r.collapse(!0),a.start==a.end?r.move("character",o):(r.moveEnd("character",E(e,a.end)),r.moveStart("character",o)),r.select()},s=function(e,t){var n=document.selection.createRange();n.collapse(t),n.select()}}else{y().removeChild(i),f("No means of finding text input caret position");return}y().removeChild(i),a=function(e,n,a,r){var o;n!=a&&(o=e.value,e.value=o.slice(0,n)+o.slice(a)),r&&t(e,n,n)},n=function(t){var n=e(t);a(t,n.start,n.end,!0)},l=function(n){var a,r=e(n);return r.start!=r.end&&(a=n.value,n.value=a.slice(0,r.start)+a.slice(r.end)),t(n,r.start,r.start),r.text},r=function(e,n,a,r){var o,c=e.value;e.value=c.slice(0,a)+n+c.slice(a),r&&t(e,o=a+n.length,o)},o=function(n,a){var r=e(n),o=n.value;n.value=o.slice(0,r.start)+a+o.slice(r.end);var c=r.start+a.length;t(n,c,c)},c=function(n,a,r){var o=e(n),c=n.value;n.value=c.slice(0,o.start)+a+o.text+r+c.slice(o.end);var l=o.start+a.length,s=l+o.length;t(n,l,s)},rangyInputs={init:m,getSelection:e,setSelection:t,collapseSelection:s,deleteSelectedText:n,deleteText:a,extractSelectedText:l,insertText:r,replaceSelectedText:o,surroundSelectedText:c,addInitListener:function(e){e()}},u=!0;for(var x=0,T=$.length;x<T;++x)$[x]()}}var E=!1,x=function(e){E||(E=!0,u||m())};if(typeof window==i){f("No window found");return}if(typeof document==i){f("No document found");return}d(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",x,!1),d(window,"addEventListener")?window.addEventListener("load",x,!1):d(window,"attachEvent")?window.attachEvent("onload",x):f("Window does not have required addEventListener or attachEvent method");var $=[];rangyInputs={init:m,addInitListener:function e(t){$.push(t)}}}();